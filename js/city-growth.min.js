!function(){"use strict";const e=document.getElementById("streetStage"),i=document.getElementById("replayBtn");if(!e||!i)return;const t=Array.from(document.querySelectorAll(".city-building")),n=[{slug:"bakery",services:["Website","SEO","WiFi Fix","Branding"]},{slug:"cafe",services:["Website","SEO","WiFi Fix","Branding","Reviews"]},{slug:"hotel",services:["Website","SEO","WiFi Fix","Branding","CRM","Analytics"]},{slug:"realty",services:["Website","SEO","WiFi Fix","Branding"]},{slug:"restaurant",services:["Website","SEO","WiFi Fix","Branding","Reservations"]}],r=window.matchMedia("(prefers-reduced-motion: reduce)").matches;var s=[],c=!1;function o(e){return Array.from(e.querySelectorAll(".city-service-floor"))}function a(){t.forEach(function(e){o(e).forEach(function(e){e.classList.add("is-visible")})})}function u(){if(r)a();else{var e=300;n.forEach(function(i){var n=t.find(function(e){return e.dataset.slug===i.slug});if(n){var r=o(n);r.forEach(function(i,t){!function(e,i){s.push(setTimeout(e,i))}(function(){i.classList.add("is-visible")},e+320*t)}),e+=320*r.length+200}})}}function l(){s.forEach(clearTimeout),s=[],t.forEach(function(e){o(e).forEach(function(e){e.classList.remove("is-visible")})}),u()}n.forEach(function(e){var i=t.find(function(i){return i.dataset.slug===e.slug});if(i){var n=i.querySelector(".city-floors-stack");n.innerHTML="",e.services.forEach(function(e){var i=document.createElement("div");i.className="city-service-floor";var t=document.createElement("span");t.className="city-floor-label",t.textContent=e,i.appendChild(t),n.appendChild(i)})}}),r&&a(),new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&!c&&(c=!0,l())})},{threshold:.3}).observe(e),i.addEventListener("click",function(){c=!0,l()})}();